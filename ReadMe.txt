- * - FSEC plotter - * -


FSECのログファイルからPDF形式でグラフを出力するためのプログラムです。
Rのggplot2パッケージにより描画を行っております。
はじめにRとggplot2のパッケージをインストールする必要があります。


# # # 準備 # # #
RのサイトからRのインストーラをダウンロードします。
(ここからダウンロード http://cran.md.tsukuba.ac.jp/)
画面の指示に従ってインストールを行います。

[Windowsの場合]
Rscript.exeのあるところにPathを通します。
デフォルトのインストールであれば、C:\Program Files\R\R{バージョン}\binにあると思うので、
コンピューターを右クリック->プロパティ->システムの詳細設定->環境変数をクリック
開いたウインドウの下のボックスからPathを探して、「編集」をクリック。
行末に、セミコロン";"と先程のRscript.exeのあるフォルダのパスを追加して、OKをクリックして終了します。
次に、ggplot2パッケージをインストールします。
スタートメニュー->すべてのプログラムからRを立ち上げ、Packages->Install package(s)からインストールします。
適当なミラーを選択し、次にggplot2とrjsonを選択すると、依存パッケージも含めて自動でインストールが始まります。

[Macの場合]
おそらく、インストール時にRscriptには自動でパスが通るので、そのままRscriptが使えます。
Windowsの場合を参考にして、ggplot2とrjsonパッケージをインストールします。


# # # 使い方 # # #

結果をASCII形式で出力し、出力したものをplotter.batにドラッグ&ドロップします。
するとコマンドプロンプトが立ち上がり、流速を設定する画面になります。

Macの場合は.batは機能しないので、ターミナルからスクリプトファイルの場所に行き、
Rscript main.R と打ったあとに、ファイルをドラッグ&ドロップしてください。

config.jsonの設定内容により、以下のパラメータを手動で決めることができます:
(1)どの検出器を用いるか
(2)サンプル間で流速が異なるか否か
(3)流速がいくつか
(4)X軸範囲表示範囲の設定(miniカラムの場合(総流量10mL以下)の場合は設定不可)
(5)Y軸の上限値の設定
使用時にこれらを聞いてくるようにするには、config.json中の"AskDetector"などのパラメータをtrueに、
聞いてこないようにして、デフォルト値を用いるにはfalseにします。

元のログファイルがあった場所に"FSECplot_(日付、時間).pdf"というファイルができていると思います。
なお凡例の文字列は元のファイル名から拡張子".txt"を除いたものになりますので、
ファイル名を適当に編集してください


- * - release note - * - 
20140721 version 1.5公開
・外部に設定ファイル(config.json)を設置
これにより、ggplot2以外にもrjsonパッケージが必要になった
設定ファイルの詳しい内容は上記参照

20140720 version 1.4公開
・Detectorの選択を自動で行う機能を追加

20140305 version 1.3 公開
・Detectorの選択設定を追加
・TODO:初期設定用configファイルの追加

20140302 version 1.2 公開
・X軸表示範囲設定追加

20130912 version 1.1 公開
・Y軸上限値の設定を実装
・Baselineの補正機能を削除

20130110 version 1.0 公開
2012     beta version 公開
>>>>>>> master
